# ДЗ по теме Проекции и материализованные представления

## Описание/Пошаговая инструкция выполнения домашнего задания:

1. Создание таблицы:

```sql
/*
Создайте таблицу sales с полями:
id (UInt32) — уникальный идентификатор продажи
product_id (UInt32) — идентификатор продукта
quantity (UInt32) — количество проданных единиц
price (Float32) — цена за единицу
sale_date (DateTime) — дата продажи
Заполните таблицу тестовыми данными.
*/
create table sales 
(
    id         UInt32   comment "уникальный идентификатор продажи",
    product_id UInt32   comment "идентификатор продукта",
    quantity   UInt32   comment "количество проданных единиц",
    price      Float32  comment "цена за единицу",
    sale_date  DateTime comment "дата продажи",
)
engine=MergeTree
order by id;
```

2. Создание проекции: Создайте проекцию для таблицы sales, которая будет агрегировать данные по product_id и считать общую сумму продаж (количество и сумма по цене) за каждый продукт.
```sql

```

3. Создание материализованного представления: Создайте материализованное представление sales_mv, которое будет автоматически обновляться при вставке новых данных в таблицу sales. Оно должно хранить общие продажи по продуктам с полями:
- product_id
- total_quantity
- total_sales
```sql

```

4. Запросы к данным: 
- Напишите запрос, который извлекает данные из проекции sales_projection.
- Напишите запрос, который извлекает данные из материализованного представления sales_mv.
```sql

```

5. Сравнение производительности: Сравните время выполнения запроса к основной таблице sales с запросом к проекции sales_projection и материализованному представлению sales_mv. Обратите внимание на разницу в производительности.
```sql

```
